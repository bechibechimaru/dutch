import{s as ee,n as Q,r as x}from"../chunks/scheduler.BvLojk_z.js";import{S as te,i as ne,s as y,e as g,b as D,m as le,g as k,h as q,c as P,d as z,n as H,f as L,o as f,j as K,k as s,p as A,q as V,r as ae,u as W,l as se,v as $}from"../chunks/index.CG6y-W0u.js";function X(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Y(e,i,t){const a=e.slice();return a[14]=i[t],a[15]=i,a[16]=t,a}function Z(e){let i,t,a,E,_=e[3](e[14])+(e[14].remainder||0)+"",c,O,C,m,R,d,I,v,b,U="支払い方法を選択",T,r="現金",n,j="PayPay",p,w="後日",M,B;function F(){e[9].call(t,e[15],e[16])}function S(){e[10].call(m,e[15],e[16])}function h(){e[11].call(d,e[15],e[16])}return{c(){i=g("div"),t=g("input"),a=y(),E=g("p"),c=D(_),O=D("円"),C=y(),m=g("input"),R=y(),d=g("input"),I=y(),v=g("select"),b=g("option"),b.textContent=U,T=g("option"),T.textContent=r,n=g("option"),n.textContent=j,p=g("option"),p.textContent=w,this.h()},l(o){i=P(o,"DIV",{class:!0});var u=z(i);t=P(u,"INPUT",{type:!0,id:!0,class:!0}),a=q(u),E=P(u,"P",{});var l=z(E);c=L(l,_),O=L(l,"円"),l.forEach(k),C=q(u),m=P(u,"INPUT",{type:!0,placeholder:!0,class:!0}),R=q(u),d=P(u,"INPUT",{class:!0,type:!0,placeholder:!0}),I=q(u),v=P(u,"SELECT",{name:!0,id:!0});var N=z(v);b=P(N,"OPTION",{"data-svelte-h":!0}),H(b)!=="svelte-t2wctg"&&(b.textContent=U),T=P(N,"OPTION",{"data-svelte-h":!0}),H(T)!=="svelte-x87r6k"&&(T.textContent=r),n=P(N,"OPTION",{"data-svelte-h":!0}),H(n)!=="svelte-aime6m"&&(n.textContent=j),p=P(N,"OPTION",{"data-svelte-h":!0}),H(p)!=="svelte-xlrr0q"&&(p.textContent=w),N.forEach(k),u.forEach(k),this.h()},h(){f(t,"type","checkbox"),f(t,"id","is_done_"+e[16]),f(t,"class","svelte-rljdi9"),f(m,"type","text"),f(m,"placeholder","名前を入力"),f(m,"class","svelte-rljdi9"),f(d,"class","price svelte-rljdi9"),f(d,"type","number"),f(d,"placeholder","比率"),b.__value="",A(b,b.__value),T.__value="cash",A(T,T.__value),n.__value="paypay",A(n,n.__value),p.__value="後日",A(p,p.__value),f(v,"name","payment"),f(v,"id","payment"),f(i,"class","info svelte-rljdi9"),W(i,"is-paid",e[14].isPaid)},m(o,u){K(o,i,u),s(i,t),t.checked=e[14].isPaid,s(i,a),s(i,E),s(E,c),s(E,O),s(i,C),s(i,m),A(m,e[14].name),s(i,R),s(i,d),A(d,e[14].ratio),s(i,I),s(i,v),s(v,b),s(v,T),s(v,n),s(v,p),M||(B=[V(t,"change",F),V(m,"input",S),V(d,"input",h)],M=!0)},p(o,u){e=o,u&1&&(t.checked=e[14].isPaid),u&1&&_!==(_=e[3](e[14])+(e[14].remainder||0)+"")&&se(c,_),u&1&&m.value!==e[14].name&&A(m,e[14].name),u&1&&$(d.value)!==e[14].ratio&&A(d,e[14].ratio),u&1&&W(i,"is-paid",e[14].isPaid)},d(o){o&&k(i),M=!1,x(B)}}}function oe(e){let i,t,a,E="割り勘",_,c,O,C,m="メンバーを追加",R,d,I,v,b=e[6]()+"",U,T,r,n,j,p=e[7]()+"",w,M,B,F,S=X(e[0]),h=[];for(let o=0;o<S.length;o+=1)h[o]=Z(Y(e,S,o));return{c(){i=y(),t=g("main"),a=g("h1"),a.textContent=E,_=y(),c=g("input"),O=y(),C=g("button"),C.textContent=m,R=y();for(let o=0;o<h.length;o+=1)h[o].c();d=y(),I=g("p"),v=D("現在の預かり金額: "),U=D(b),T=D("円"),r=y(),n=g("p"),j=D("残りの金額: "),w=D(p),M=D("円"),this.h()},l(o){le("svelte-1koplbt",document.head).forEach(k),i=q(o),t=P(o,"MAIN",{class:!0});var l=z(t);a=P(l,"H1",{class:!0,"data-svelte-h":!0}),H(a)!=="svelte-ur8qkq"&&(a.textContent=E),_=q(l),c=P(l,"INPUT",{class:!0,type:!0,placeholder:!0}),O=q(l),C=P(l,"BUTTON",{class:!0,"data-svelte-h":!0}),H(C)!=="svelte-wq89bw"&&(C.textContent=m),R=q(l);for(let J=0;J<h.length;J+=1)h[J].l(l);d=q(l),I=P(l,"P",{});var N=z(I);v=L(N,"現在の預かり金額: "),U=L(N,b),T=L(N,"円"),N.forEach(k),r=q(l),n=P(l,"P",{});var G=z(n);j=L(G,"残りの金額: "),w=L(G,p),M=L(G,"円"),G.forEach(k),l.forEach(k),this.h()},h(){document.title="割り勘",f(a,"class","svelte-rljdi9"),f(c,"class","totalprice svelte-rljdi9"),f(c,"type","text"),f(c,"placeholder","合計金額を入力"),f(C,"class","svelte-rljdi9"),f(t,"class","svelte-rljdi9")},m(o,u){K(o,i,u),K(o,t,u),s(t,a),s(t,_),s(t,c),A(c,e[1]),s(t,O),s(t,C),s(t,R);for(let l=0;l<h.length;l+=1)h[l]&&h[l].m(t,null);s(t,d),s(t,I),s(I,v),s(I,U),s(I,T),s(t,r),s(t,n),s(n,j),s(n,w),s(n,M),B||(F=[V(c,"input",e[8]),V(c,"input",e[5]),V(c,"change",e[4]),V(C,"click",e[2])],B=!0)},p(o,[u]){if(u&2&&c.value!==o[1]&&A(c,o[1]),u&9){S=X(o[0]);let l;for(l=0;l<S.length;l+=1){const N=Y(o,S,l);h[l]?h[l].p(N,u):(h[l]=Z(N),h[l].c(),h[l].m(t,d))}for(;l<h.length;l+=1)h[l].d(1);h.length=S.length}},i:Q,o:Q,d(o){o&&(k(i),k(t)),ae(h,o),B=!1,x(F)}}}function ie(e,i,t){let a=[];function E(){a.push({name:"",ratio:1,isPaid:!1,remainder:0}),t(0,a=[...a])}let _=0,c="";function O(){return a.reduce((r,n)=>r+n.ratio,0)}function C(r){const n=O();return Math.floor(_*(r.ratio/n))}function m(){const r=O();let n=a.reduce((p,w)=>p+Math.floor(_*(w.ratio/r)),0),j=_-n;for(let p=0;j>0;p++)p>=a.length&&(p=0),t(0,a[p].remainder=(a[p].remainder||0)+1,a),j--}function R(r){const j=r.currentTarget.value.replace(/,/g,"");_=parseInt(j,10)||0,t(1,c=_.toLocaleString())}function d(){return a.reduce((r,n)=>n.isPaid?r+C(n)+(n.remainder||0):r,0)}function I(){return _-d()}function v(){c=this.value,t(1,c)}function b(r,n){r[n].isPaid=this.checked,t(0,a)}function U(r,n){r[n].name=this.value,t(0,a)}function T(r,n){r[n].ratio=$(this.value),t(0,a)}return[a,c,E,C,m,R,d,I,v,b,U,T]}class ce extends te{constructor(i){super(),ne(this,i,ie,oe,ee,{})}}export{ce as component};
